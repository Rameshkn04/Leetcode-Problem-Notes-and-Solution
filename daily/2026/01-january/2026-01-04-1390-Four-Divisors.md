1390. Four Divisors

Difficulty: Medium
Topic: Math, Number Theory
Source: LeetCode

Problem Statement

Given an array of integers nums, return the sum of divisors of all numbers that have exactly four divisors.

If a number does not have exactly four divisors, it contributes 0 to the sum.

Key Observation

A number has exactly four divisors if and only if it is of one of the following forms:

p³ where p is a prime number

Divisors: 1, p, p², p³

p × q where p and q are distinct primes

Divisors: 1, p, q, p×q

Any other number will have fewer or more than four divisors.

Approach

For each number in nums:

Find all divisors up to √n

Store unique divisors

If the number of divisors is exactly 4, add their sum to the result

This approach is efficient enough due to the constraint limits.

Algorithm

Initialize total_sum = 0

For each number:

Iterate from 1 to √n

Collect divisor pairs

Check if divisor count is exactly 4

Add their sum to total_sum

Return total_sum

Time and Space Complexity
Metric	Complexity
Time	O(n √m)
Space	O(1)

Where:

n = number of elements

m = maximum value in nums

Python Implementation
class Solution:
    def sumFourDivisors(self, nums):
        total = 0
        
        for num in nums:
            divisors = set()
            for i in range(1, int(num ** 0.5) + 1):
                if num % i == 0:
                    divisors.add(i)
                    divisors.add(num // i)
                if len(divisors) > 4:
                    break
            
            if len(divisors) == 4:
                total += sum(divisors)
        
        return total

Edge Cases

Prime numbers → only 2 divisors

Perfect squares of primes → 3 divisors

Numbers with many factors → ignored early