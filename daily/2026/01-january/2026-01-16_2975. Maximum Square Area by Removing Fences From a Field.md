üü¶ 2975. Maximum Square Area by Removing Fences From a Field
üìå Problem Overview

You are given a rectangular field of size (m ‚àí 1) √ó (n ‚àí 1) with:

Horizontal fences at positions hFences

Vertical fences at positions vFences

The field corners are (1,1) and (m,n).

üëâ You are allowed to remove exactly one horizontal fence and one vertical fence.

üéØ Goal

After removing fences, find the maximum possible area of a square that can be formed inside the field.

If no square can be formed, return -1.

üîç Key Insight

A square is possible only if horizontal and vertical gaps are equal

Removing fences increases the gap between remaining fences

The task reduces to:

Finding all possible maximum gaps between horizontal fences

Finding all possible maximum gaps between vertical fences

Choosing the largest common gap

üõ†Ô∏è Approach
Step 1: Add Field Boundaries

Add 1 and m to hFences, and 1 and n to vFences

Step 2: Sort Fence Positions

Sorting helps compute distances between consecutive fences.

Step 3: Compute All Possible Gaps

For each pair of fences:

Horizontal gap = difference of positions

Vertical gap = difference of positions

Step 4: Find the Largest Common Gap

Intersection of horizontal and vertical gaps

Square side = maximum common gap

Area = (side)¬≤

‚úÖ Python Implementation
class Solution:
    def maximizeSquareArea(self, m: int, n: int, hFences: list[int], vFences: list[int]) -> int:
        MOD = 10**9 + 7

        hFences = [1] + hFences + [m]
        vFences = [1] + vFences + [n]

        hFences.sort()
        vFences.sort()

        hGaps = set()
        vGaps = set()

        # Compute horizontal gaps
        for i in range(len(hFences)):
            for j in range(i + 1, len(hFences)):
                hGaps.add(hFences[j] - hFences[i])

        # Compute vertical gaps
        for i in range(len(vFences)):
            for j in range(i + 1, len(vFences)):
                vGaps.add(vFences[j] - vFences[i])

        common = hGaps & vGaps

        if not common:
            return -1

        max_side = max(common)
        return (max_side * max_side) % MOD

‚è±Ô∏è Complexity Analysis
Aspect	Complexity
Time	O(H¬≤ + V¬≤)
Space	O(H¬≤ + V¬≤)

Where:

H = number of horizontal fences

V = number of vertical fences

üß™ Example
Input
m = 4, n = 3
hFences = [2, 3]
vFences = [2]

Output
4

Explanation

Maximum square side = 2

Area = 2 √ó 2 = 4

üöÄ Key Takeaways

Always include field boundaries

Square area depends on common fence gaps

Brute-force gap calculation is acceptable due to small constraints

Think in terms of geometry + sets
